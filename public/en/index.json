[{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/en/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/en/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"},{"content":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just watches Back in 2025 I decided to try the crazy idea of running Delphi on Linux without leaving Windows.\nYep, that thing called WSL2 ‚Äî the Windows Subsystem for Linux ‚Äî letting the penguin move into Windows and eat from the same table.\nAnd surprisingly, it works. So saddle up, because I‚Äôll show you how I got this running with Ubuntu 22.04 (the stable one when I wrote this).\nIf you\u0026rsquo;re reading this in the future and the version changed (24.04, 26.04‚Ä¶), just swap the name during installation and keep moving. 1. What the heck is WSL WSL is basically a domesticated Linux running inside Windows.\nIt‚Äôs not a VM, not Docker ‚Äî it‚Äôs fast and practical.\nYou run a command and boom: an Ubuntu appears staring back at you.\n2. Installing Ubuntu (or whichever version is available) Open Command Prompt as administrator and run:\n1 wsl --list --online You‚Äôll see a list of available distros. I used Ubuntu 22.04 back then ‚Äî if 24.04 is out when you read this, use that one.\nThe name changes, the process doesn\u0026rsquo;t.\nTo install:\n1 wsl --install Ubuntu-22.04 Windows will download, install, and ask for a username and password.\nPick something you‚Äôll remember ‚Äî Linux won‚Äôt forgive you if you forget.\n3. Updating the system and installing what matters Inside Ubuntu, run the basics:\n1 sudo apt update \u0026amp;\u0026amp; sudo apt upgrade \u0026amp;\u0026amp; sudo apt dist-upgrade Then install the development tools Delphi needs:\n1 sudo apt install joe wget p7zip-full curl openssh-server build-essential zlib1g-dev libcurl4-gnutls-dev libncurses5 zlib1g-dev libgtk-3-dev 4. Installing PAServer inside WSL Copy PAServer from Windows into WSL. In Delphi 12, it‚Äôs usually located at:\n1 C:\\Program Files (x86)\\Embarcadero\\Studio\\23.0\\PAServer\\LinuxPAServer23.0.tar.gz Inside Ubuntu:\n1 2 cp /mnt/c/Program\\ Files\\ \\(x86\\)/Embarcadero/Studio/23.0/PAServer/LinuxPAServer23.0.tar.gz ~/ tar -xvf ./LinuxPAServer23.0.tar.gz Start the server:\n1 ./PAServer-23.0/paserver It will ask for a password ‚Äî set a real password.\nThis isn‚Äôt ‚Äúleave everything open‚Äù mode. Security matters.\nPress i and Enter to view the IP of the PAServer. Take note.\n5. Configuring Delphi to talk to WSL In Windows Delphi, install FMXLinux through GetIt (if needed).\nThen go to:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; Connection Profile Manager Click Add and create a profile for Linux 64-bit.\nEnter the IP, username and password defined in Ubuntu, then hit Test Connection.\n6. Adding the SDK Still in Delphi:\nTools \u0026gt; Options \u0026gt; Deployment \u0026gt; SDK Manager Click Add, select Linux 64-bit, and choose the profile you created.\nDelphi will copy a mountain of files into WSL. Takes a while ‚Äî when Cancel becomes Close, you‚Äôre done.\n7. Compiling directly to Linux Create a Multi-Device Application and, in Project Manager, select Linux 64-bit.\nIf it doesn‚Äôt show, add it under Target Platforms.\nPress F9. If everything is set up correctly, the app will launch inside WSL.\n8. Conclusion Roughneck‚Äôs Slap of Wisdom: Done. Delphi on Windows, compiling for Linux through WSL.\nIs it pretty? No. Is it practical? Depends. Is it interesting? A lot.\nIf something fails: check IP, PAServer, SDK and firewall.\nIf the problem persists, restart ‚Äî sometimes Windows just wants attention.\n‚ÄúIf it‚Äôs running, don‚Äôt touch it. If it stopped, Windows broke it.‚Äù ‚Äî Delphi Roughneck\nCredit: This article was written during GDK‚Äôs\rVivid Day, a day where developers are given dedicated time to study,\rresearch, and produce technical content. Many thanks to GDK for supporting\rinitiatives that strengthen the engineering community.\r","permalink":"http://localhost:1313/en/posts/wsl-delphi/","summary":"Running Delphi on WSL2 ‚Äî when Linux enters your machine and Windows just stands there witnessing the chaos.","title":"Running Delphi on WSL2 ‚Äî when Linux moves into your machine and Windows just watches"},{"content":"Back in 2018, with Delphi 10.3 Rio, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced inline variables.\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\nIn this post, I explain what these blessed inline variables are, when they kind of make sense, and why ‚Äî in my Roughneck opinion ‚Äî anything outside of a for loop is a recipe for chaos.\nWhat is an inline variable? Since the ancient days of Pascal, back when we used floppy disks and the compiler fit on one and a half of them, every local variable had to be declared at the top of the method, before the begin.\nIt was the standard: pretty, predictable, logical.\nThen Delphi 10.3 Rio came along and allowed this:\nprocedure Test; begin var i: Integer := 10; ShowMessage(i.ToString); end; Looks handy, right? And it is‚Ä¶ right up to the moment your code starts growing.\nThen you start hunting for where the variable was declared‚Ä¶ and discover someone had the ‚Äúbrilliant‚Äù idea of sticking a var inside an if, another inside a try, another at the bottom of the method.\nBoom ‚Äî chaos.\nThe pros (so you don‚Äôt say I only complain) Scope gets shorter: once the block ends, the variable dies. You can declare it right where you use it. The compiler infers the type, making code shorter. Helps avoid zombie variables lingering around for no reason. Okay, it does have its uses.\nBut folks started thinking this is an excuse to sprinkle var everywhere in their code. The cons (and here comes the Roughneck rant) Roughneck‚Äôs Slap of Wisdom: Outside of a for, it turns into full-blown disorder.\nYou open a method and there‚Äôs var lurking behind every corner.\nDelphi‚Äôs tradition was always simple: want to see the variables? scroll up before the begin.\nNow you gotta go treasure hunting for var inside the mess. Sometimes there‚Äôs not even a type: var x := SomeFunction(); ‚Äî and now you have to open the function to figure out what x is. Maintenance? Becomes a scavenger hunt. Big codebases with inline variables are like bad soap operas: feels like it‚Äôll get better, but only gets worse. Summary: people trying to save three keystrokes end up wasting half an hour trying to understand their own code.\nRoughneck‚Äôs Opinion Inline variables make sense in only two situations:\nInside a for, like for var i := 0 to 10 do. In very small blocks ‚Äî preferably less than half a screen. Outside that, it\u0026rsquo;s just fancy nonsense.\nWant to declare stuff in the middle of a method? Do humanity a favor and go sell snacks at the fair.\nAnyone maintaining your code will curse you in three different languages ‚Äî and they‚Äôll be right.\nRoughneck‚Äôs Slap of Wisdom: In my code, every variable goes before the begin.\nIf you need to find one, go up there ‚Äî everything‚Äôs tidy, civilized, peaceful.\nThat‚Äôs order. That‚Äôs clarity. That‚Äôs sanity. Good example (acceptable) for var Item in Lista do begin var Doubled := Item * 2; ShowMessage(Doubled.ToString); end; Short, direct, harmless. Dies inside the loop, troubles no one.\nBad example (total mess) procedure Calcula; begin var Total := 0; if Condicao then begin var Aux := SomaFuncao(); Total := Total + Aux; end; var Outro := OutraFuncao(); ShowMessage(Total.ToString + Outro.ToString); end; Where was ‚ÄúOutro‚Äù declared? What type is it? What does it eat?\nTo find out, only debugging will save you.\nAnd the poor soul who opens this six months later will want to jump out the window.\nSupreme disaster example (same name, different types) procedure Teste; begin var Valor: Integer := 10; ShowMessage(\u0026#39;Integer value: \u0026#39; + Valor.ToString); begin var Valor: String := \u0026#39;ten\u0026#39;; ShowMessage(\u0026#39;String value: \u0026#39; + Valor); end; ShowMessage(\u0026#39;Still integer: \u0026#39; + Valor.ToString); end; Look at this masterpiece: two variables with the same name, different types, living in separate scopes.\nCompiles happily, but anyone reading this will think the compiler had a stroke.\nYou think it\u0026rsquo;s an Integer, but inside the block it magically becomes a String.\nThen goes back to being an Integer.\nThis isn‚Äôt clarity ‚Äî this is variable identity disorder.\nConclusion Roughneck‚Äôs Slap of Wisdom: Inline variables are like a power tool in a kid‚Äôs hands: it might work, but everybody knows trouble is coming, and someone‚Äôs gonna cry (maybe even lose a finger).\nUse them in for loops, use them in very small blocks, but don‚Äôt throw var around your code like confetti at Carnival.\nDelphi‚Äôs standard is simple, beautiful, and tested for decades:\nput every var before the begin.\nDeviate from that and your code becomes a scope bingo.\nAnd if I open your code and find inline variables scattered around, I‚Äôm telling you right now:\nI‚Äôll rip them all out and move the var declarations back up where they always belonged.\nBy force, if necessary.\n","permalink":"http://localhost:1313/en/posts/inline-variables-delphi/","summary":"\u003cp\u003eBack in 2018, with \u003cstrong\u003eDelphi 10.3 Rio\u003c/strong\u003e, Embarcadero‚Äôs engineers decided to ‚Äúmodernize‚Äù things and introduced \u003cstrong\u003einline variables\u003c/strong\u003e.\u003cbr\u003e\nThe idea sounds brilliant: declare the variable right there, exactly where it will be used.\u003cbr\u003e\nOn paper it looks cute. In practice, it‚Äôs like putting LED headlights on a ‚Äô68 Beetle ‚Äî draws attention, sure, but doesn‚Äôt solve a darn thing.\u003c/p\u003e\n\u003cp\u003eIn this post, I explain what these blessed inline variables are, when they \u003cem\u003ekind of\u003c/em\u003e make sense, and why ‚Äî in my Roughneck opinion ‚Äî \u003cstrong\u003eanything outside of a \u003ccode\u003efor\u003c/code\u003e loop is a recipe for chaos.\u003c/strong\u003e\u003c/p\u003e","title":"Inline Variables ‚Äì paradise or pure chaos?"},{"content":" WITH is a tool for lazy programmers Roughneck‚Äôs Slap of Wisdom: ‚ö†Ô∏è Public service announcement:\nThis text is opinionated, grumpy, and full of painful truth.\nIf you love with and think it‚Äôs beautiful, go ahead and hit Ctrl+W and close this tab.\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\nBut if you want to understand why this thing is pure trouble in Delphi ‚Äî sit down and listen.\nOr, if you prefer, watch the video version What the heck is with and why people use it with is that ‚Äúmagic shortcut‚Äù that promises to save you a couple of keystrokes.\nThe fella looks at it and thinks:\n‚ÄúWow! I don‚Äôt need to type Memo1.Lines all the time!‚Äù\nYeah‚Ä¶ and then wonders why his code looks like a barnyard accident.\nwith is used to:\nShorten calls (like Memo1.Lines.Add). Fill collections (like ACBrNFe1.NotasFiscais.Add). And it also messes up your code, confuses the debugger,\nand makes you look lazy.\nBeautiful, right?\nProblem #1 ‚Äî with wrecks your code readability You know that pretty code you read and understand right away?\nYeah, with grabs that code, wipes its behind with it, and throws it in the trash.\nClassic example of pure laziness: with Memo1.Lines do begin Clear; Add(\u0026#39;Chapter 1: ...\u0026#39;); Add(\u0026#39;Paragraph 2: ...\u0026#39;); Add(\u0026#39;Paragraph 3: ...\u0026#39;); end; The guy who wrote this thinks he saved time.\nHe saved nothing ‚Äî he just ruined maintenance for whoever comes next.\nRoughneck‚Äôs Slap of Wisdom: Here every line screams who owns the action.\nNo riddles, no guessing games.\nThe code is honest ‚Äî a rare thing these days. Memo1.Lines.Clear; Memo1.Lines.Add(\u0026#39;Chapter 1: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 2: ...\u0026#39;); Memo1.Lines.Add(\u0026#39;Paragraph 3: ...\u0026#39;); Problem #2 ‚Äî Debugging with with is like finding a needle in a haystack‚Ä¶ while the haystack is on fire Try debugging a piece of code that uses with.\nGood luck, cowboy. The debugger looks at your code and thinks:\n‚ÄúBuddy, I have no clue what object this is.‚Äù\nLook at this mess: with ACBrNFe1.NotasFiscais.Add.NFe do begin ide.cNF := \u0026#39;12345678\u0026#39;; end; When you try to inspect ide.cNF, the compiler looks back and says:\n‚ÄúI don‚Äôt know who ide is, and honestly, I don‚Äôt wanna know.‚Äù\nThen you must rebuild the entire chain just to inspect one tiny value.\nAll because you wanted to ‚Äútype less‚Äù.\nCongratulations, Ctrl+C Ctrl+V warrior.\nProblem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore With with, you think you‚Äôre touching one object, but you‚Äôre actually hitting another completely different one.\nIt‚Äôs a syntactical version of a stampede.\nPure chaos: with Nota do begin with Det.Add do begin with Imposto do begin with ICMS do begin // At this point nobody knows who\u0026#39;s who in this darn mess end; end; end; end; Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.\nRoughneck‚Äôs Slap of Wisdom: Here every line knows who owns the trouble.\nAnd if something breaks, the debugger knows too. var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Det := Nota.Det.Add; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; How to quit the with addiction (step-by-step detox) Figure out the return type (Ctrl+Click, you slacker).\nExample: NotasFiscais.Add.NFe : TNFe Create a proper variable: var Nota: TNFe; Nota := ACBrNFe1.NotasFiscais.Add.NFe; Did an .Add? Capture the item: var Det: TDetCollectionItem; Det := Nota.Det.Add; Give variables real names.\nNone of that a, b, obj, aux nonsense. Split the code. Good code is the kind even the marketing intern understands. Full example (without laziness) uses ACBrNFe, ACBrNFeNotasFiscais; procedure TForm1.GenerateClearNFe; var Nota: TNFe; Det: TDetCollectionItem; begin Nota := ACBrNFe1.NotasFiscais.Add.NFe; Nota.Ide.cNF := \u0026#39;12345678\u0026#39;; Nota.Ide.nNF := 2; Nota.Ide.tpAmb := taHomologacao; Nota.Ide.finNFe := fnNormal; Det := Nota.Det.Add; Det.nItem := 1; Det.Prod.cProd := \u0026#39;ABC123\u0026#39;; Det.Prod.xProd := \u0026#39;Example Product\u0026#39;; Det.Prod.qCom := 1.0000; Det.Prod.vUnCom := 100.00; Det.Imposto.ICMS.CST := cst00; Det.Imposto.ICMS.orig := oeNacional; end; Roughneck‚Äôs Slap of Wisdom: More work? Yep.\nBut at least you understand what you wrote ‚Äî and it doesn‚Äôt look like a drunken intern coded it. Roughneck‚Äôs checklist to ban with Declare decent variables. Break long chains. Name things properly. Let the debugger work without prayer rituals. And if someone uses with in your project‚Ä¶ refactor it mercilessly and fire the culprit. ‚ÄúBut Roughneck, I type less with with\u0026hellip;‚Äù And I type even less if I delete your whole codebase.\nTyping less is not a developer‚Äôs goal.\nUnderstanding what you wrote is.\nConclusion with is the crutch of the lazy.\nIt‚Äôs the programming version of the ‚Äúquick fix mentality‚Äù.\nWant to be good? Write it properly. Want to be fast? Use snippets.\nRoughneck‚Äôs Slap of Wisdom: But if you insist on defending with, don‚Äôt call me to maintain your code,\nbecause I‚Äôll rip that thing out of there even if I have to do it with a tractor.\nIf you‚Äôre on the with team, great ‚Äî just don‚Äôt call me for maintenance.\nIf you do, I‚Äôll go there and tear that habit out of your code without mercy. And if you think all this is nonsense‚Ä¶\nThat‚Äôs fine too.\nI‚Äôll keep sleeping well and with will keep being garbage. üòé\n","permalink":"http://localhost:1313/en/posts/stop-using-with-in-delphi/","summary":"\u003cdiv class=\"bruto-intro\"\u003e\n  \u003cspan\u003e\u003cstrong\u003eWITH is a tool for lazy programmers\u003c/strong\u003e\u003c/span\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\u003cdiv class=\"bruto-bronca\"\u003e\n  \n    \u003cstrong\u003eRoughneck‚Äôs Slap of Wisdom:\u003c/strong\u003e ‚ö†Ô∏è \u003cem\u003ePublic service announcement:\u003c/em\u003e\u003cbr\u003e\nThis text is \u003cstrong\u003eopinionated\u003c/strong\u003e, \u003cstrong\u003egrumpy\u003c/strong\u003e, and \u003cstrong\u003efull of painful truth\u003c/strong\u003e.\u003cbr\u003e\nIf you love \u003ccode\u003ewith\u003c/code\u003e and think it‚Äôs beautiful, go ahead and hit \u003cstrong\u003eCtrl+W\u003c/strong\u003e and close this tab.\u003cbr\u003e\nI won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.\u003cbr\u003e\nBut if you want to \u003cstrong\u003eunderstand why this thing is pure trouble in Delphi\u003c/strong\u003e ‚Äî sit down and listen.\u003cbr\u003e\nOr, if you prefer, watch the \u003ca href=\"https://www.youtube.com/watch?v=9DQPkzb1hiw\"\u003evideo version\u003c/a\u003e\n  \n\u003c/div\u003e\n\u003chr\u003e\n\u003ch2 id=\"what-the-heck-is\"\u003e\u003cstrong\u003eWhat the heck is \u003ccode\u003ewith\u003c/code\u003e and why people use it\u003c/strong\u003e\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003ewith\u003c/code\u003e is that ‚Äúmagic shortcut‚Äù that promises to save you \u003cstrong\u003ea couple of keystrokes\u003c/strong\u003e.\u003cbr\u003e\nThe fella looks at it and thinks:\u003c/p\u003e","title":"Stop Using with in Delphi"}]