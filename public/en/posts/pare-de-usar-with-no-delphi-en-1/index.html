<!doctype html><html lang=en dir=auto data-theme=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=preload href=/css/bruto.css as=style><link rel=stylesheet href=/css/bruto.css><link rel=preload href=/flags/br.svg as=image><link rel=preload href=/flags/us.svg as=image><link rel=canonical href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><link rel=alternate hreflang=en href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><link rel=alternate hreflang=x-default href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><meta property="og:type" content="article"><meta property="og:title" content="Stop Using `with` in Delphi"><meta property="og:description" content="A Roughneck manifesto: why `with` is the devil dressed as a shortcut."><meta property="og:url" content="http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/"><meta property="og:site_name" content="delphi.dev.br"><meta property="og:image" content="http://localhost:1313/images/cover-default.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Stop Using `with` in Delphi"><meta name=twitter:description content="A Roughneck manifesto: why `with` is the devil dressed as a shortcut."><meta name=twitter:image content="http://localhost:1313/images/cover-default.jpg"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Person","name":"Delphi Roughneck","alternateName":"Bruto do Delphi","url":"http:\/\/localhost:1313\/en/","jobTitle":"Hands-on Delphi developer","description":"Technical Delphi content delivered with rough humor and shop-floor attitude.","sameAs":["https://github.com/alanvcb","https://youtube.com/brutododelphi","https://www.linkedin.com/in/alanvcb"]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","headline":"\"Stop Using `with` in Delphi\"","description":"\"A Roughneck manifesto: why `with` is the devil dressed as a shortcut.\"","inLanguage":"en","url":"http:\/\/localhost:1313\/en\/posts\/pare-de-usar-with-no-delphi-en-1\/","datePublished":"2025-10-31T22:00:00Z","dateModified":"2025-10-31T22:00:00Z","author":{"@type":"Person","name":"Delphi Roughneck"},"publisher":{"@type":"Organization","name":"delphi.dev.br","url":"http:\/\/localhost:1313\/"},"image":["http:\/\/localhost:1313\/images\/cover-default.jpg"],"alternateName":"pare-de-usar-with-no-delphi","alternateUrl":[]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http:\/\/localhost:1313\/en\/posts\/"},{"@type":"ListItem","position":2,"name":"Stop Using \u0060with\u0060 in Delphi","item":"http:\/\/localhost:1313\/en\/posts\/pare-de-usar-with-no-delphi-en-1\/"}]}</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="noindex, nofollow"><title>Stop Using `with` in Delphi | delphi.dev.br (EN)</title><meta name=keywords content="Delphi,Delphi Roughneck"><meta name=description content="A Roughneck manifesto: why `with` is the devil dressed as a shortcut."><meta name=author content><link rel=canonical href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><link crossorigin=anonymous href=/assets/css/stylesheet.fd5566c526ae48aadabd950798a2dc3568536401560eae5caac3765a42a9e7b5.css integrity="sha256-/VVmxSauSKravZUHmKLcNWhTZAFWDq5cqsN2WkKp57U=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=preload href=/css/bruto.css as=style><link rel=stylesheet href=/css/bruto.css><link rel=preload href=/flags/br.svg as=image><link rel=preload href=/flags/us.svg as=image><link rel=canonical href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><link rel=alternate hreflang=en href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><link rel=alternate hreflang=x-default href=http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/><meta property="og:type" content="article"><meta property="og:title" content="Stop Using `with` in Delphi"><meta property="og:description" content="A Roughneck manifesto: why `with` is the devil dressed as a shortcut."><meta property="og:url" content="http://localhost:1313/en/posts/pare-de-usar-with-no-delphi-en-1/"><meta property="og:site_name" content="delphi.dev.br"><meta property="og:image" content="http://localhost:1313/images/cover-default.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Stop Using `with` in Delphi"><meta name=twitter:description content="A Roughneck manifesto: why `with` is the devil dressed as a shortcut."><meta name=twitter:image content="http://localhost:1313/images/cover-default.jpg"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Person","name":"Delphi Roughneck","alternateName":"Bruto do Delphi","url":"http:\/\/localhost:1313\/en/","jobTitle":"Hands-on Delphi developer","description":"Technical Delphi content delivered with rough humor and shop-floor attitude.","sameAs":["https://github.com/alanvcb","https://youtube.com/brutododelphi","https://www.linkedin.com/in/alanvcb"]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","headline":"\"Stop Using `with` in Delphi\"","description":"\"A Roughneck manifesto: why `with` is the devil dressed as a shortcut.\"","inLanguage":"en","url":"http:\/\/localhost:1313\/en\/posts\/pare-de-usar-with-no-delphi-en-1\/","datePublished":"2025-10-31T22:00:00Z","dateModified":"2025-10-31T22:00:00Z","author":{"@type":"Person","name":"Delphi Roughneck"},"publisher":{"@type":"Organization","name":"delphi.dev.br","url":"http:\/\/localhost:1313\/"},"image":["http:\/\/localhost:1313\/images\/cover-default.jpg"],"alternateName":"pare-de-usar-with-no-delphi","alternateUrl":[]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http:\/\/localhost:1313\/en\/posts\/"},{"@type":"ListItem","position":2,"name":"Stop Using \u0060with\u0060 in Delphi","item":"http:\/\/localhost:1313\/en\/posts\/pare-de-usar-with-no-delphi-en-1\/"}]}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/en/ accesskey=h title="delphi.dev.br (EN) (Alt + H)">delphi.dev.br (EN)</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><div class=lang-switch-inline><a href=http://localhost:1313/pt/ class=lang-flag title=Portugu√™s><img src=/flags/br.svg alt=PT></a></div></div></div><ul id=menu><li><a href=http://localhost:1313/en/ title="Home " zgotmplz><span>Home</span></a></li><li><a href=http://localhost:1313/en/posts/ title="Posts " zgotmplz><span>Posts</span></a></li><li><a href=http://localhost:1313/en/about/ title="About " zgotmplz><span>About</span></a></li><li><a href=http://localhost:1313/en/contact/ title="Contact " zgotmplz><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post><header class=post-header><h1>Stop Using `with` in Delphi</h1></header><p class=bruto-saudacao-post><strong>&#x1F920; Tarde Brutaiada! Sejam bem vindos a mais um post do Bruto do Delphi!</strong></p><div class=post-content><div class=bruto-intro><span><strong>WITH is a tool for lazy programmers</strong></span></div><div class=bruto-bronca><strong>Roughneck‚Äôs Slap of Wisdom:</strong> ‚ö†Ô∏è <em>Public service announcement:</em><br>This text is <strong>opinionated</strong>, <strong>grumpy</strong>, and <strong>full of painful truth</strong>.<br>If you love <code>with</code> and think it‚Äôs beautiful, go ahead and hit <strong>Ctrl+W</strong> and close this tab.<br>I won‚Äôt lose sleep, won‚Äôt skip a meal, and sure as hell won‚Äôt send you roses.<br>But if you want to <strong>understand why this thing is pure trouble in Delphi</strong> ‚Äî sit down and listen.<br>Or, if you prefer, watch the <a href="https://www.youtube.com/watch?v=9DQPkzb1hiw">video version</a></div><hr><h2 id=what-the-heck-is><strong>What the heck is <code>with</code> and why people use it</strong></h2><p><code>with</code> is that ‚Äúmagic shortcut‚Äù that promises to save you <strong>a couple of keystrokes</strong>.<br>The fella looks at it and thinks:</p><blockquote><p>‚ÄúWow! I don‚Äôt need to type <code>Memo1.Lines</code> all the time!‚Äù</p></blockquote><p>Yeah‚Ä¶ and then wonders why <strong>his code looks like a barnyard accident</strong>.</p><p><code>with</code> is used to:</p><ul><li>Shorten calls (like <code>Memo1.Lines.Add</code>).</li><li>Fill collections (like <code>ACBrNFe1.NotasFiscais.Add</code>).</li></ul><p>And it also <strong>messes up your code</strong>, <strong>confuses the debugger</strong>,<br>and <strong>makes you look lazy</strong>.<br>Beautiful, right?</p><hr><div class=bruto-intro><span>Problem #1 ‚Äî <code>with</code> wrecks your code readability</span></div><p>You know that pretty code you read and understand right away?<br>Yeah, <code>with</code> grabs that code, wipes its behind with it, and throws it in the trash.</p><h3 id=classic-example-of-pure-laziness><strong>Classic example of pure laziness:</strong></h3><pre tabindex=0><code class=language-pascal data-lang=pascal>with Memo1.Lines do
begin
  Clear;
  Add(&#39;Chapter 1: ...&#39;);
  Add(&#39;Paragraph 2: ...&#39;);
  Add(&#39;Paragraph 3: ...&#39;);
end;
</code></pre><p>The guy who wrote this thinks he saved time.<br>He saved nothing ‚Äî he just <strong>ruined maintenance</strong> for whoever comes next.</p><div class=bruto-bronca><strong>Roughneck‚Äôs Slap of Wisdom:</strong> Here every line screams who owns the action.<br>No riddles, no guessing games.<br>The code is <strong>honest</strong> ‚Äî a rare thing these days.</div><pre tabindex=0><code class=language-pascal data-lang=pascal>Memo1.Lines.Clear;
Memo1.Lines.Add(&#39;Chapter 1: ...&#39;);
Memo1.Lines.Add(&#39;Paragraph 2: ...&#39;);
Memo1.Lines.Add(&#39;Paragraph 3: ...&#39;);
</code></pre><hr><div class=bruto-intro><span>Problem #2 ‚Äî Debugging with <code>with</code> is like finding a needle in a haystack‚Ä¶ while the haystack is on fire</span></div><p>Try debugging a piece of code that uses <code>with</code>.<br>Good luck, cowboy. The debugger looks at your code and thinks:</p><blockquote><p>‚ÄúBuddy, I have no clue what object this is.‚Äù</p></blockquote><h3 id=look-at-this-mess><strong>Look at this mess:</strong></h3><pre tabindex=0><code class=language-pascal data-lang=pascal>with ACBrNFe1.NotasFiscais.Add.NFe do
begin
  ide.cNF := &#39;12345678&#39;;
end;
</code></pre><p>When you try to inspect <code>ide.cNF</code>, the compiler looks back and says:</p><blockquote><p>‚ÄúI don‚Äôt know who <code>ide</code> is, and honestly, I don‚Äôt wanna know.‚Äù</p></blockquote><p>Then you must <strong>rebuild the entire chain</strong> just to inspect one tiny value.<br>All because you wanted to ‚Äútype less‚Äù.<br>Congratulations, Ctrl+C Ctrl+V warrior.</p><hr><div class=bruto-intro><span>Problem #3 ‚Äî You don‚Äôt even know what you‚Äôre modifying anymore</span></div><p>With <code>with</code>, you <em>think</em> you‚Äôre touching one object, but you‚Äôre actually <strong>hitting another completely different one</strong>.<br>It‚Äôs a syntactical version of a stampede.</p><h3 id=pure-chaos><strong>Pure chaos:</strong></h3><pre tabindex=0><code class=language-pascal data-lang=pascal>with Nota do
begin
  with Det.Add do
  begin
    with Imposto do
    begin
      with ICMS do
      begin
        // At this point nobody knows who&#39;s who in this darn mess
      end;
    end;
  end;
end;
</code></pre><p><strong>Anyone who reads this code deserves a raise‚Ä¶ or a psychiatric evaluation.</strong></p><div class=bruto-bronca><strong>Roughneck‚Äôs Slap of Wisdom:</strong> Here every line knows <strong>who owns the trouble</strong>.<br>And if something breaks, the debugger knows too.</div><pre tabindex=0><code class=language-pascal data-lang=pascal>var
  Nota: TNFe;
  Det: TDetCollectionItem;
begin
  Nota := ACBrNFe1.NotasFiscais.Add.NFe;
  Det  := Nota.Det.Add;

  Det.Imposto.ICMS.CST  := cst00;
  Det.Imposto.ICMS.orig := oeNacional;
end;
</code></pre><hr><div class=bruto-intro><span>How to quit the <code>with</code> addiction (step-by-step detox)</span></div><ol><li>Figure out the return type (Ctrl+Click, you slacker).<br>Example: <code>NotasFiscais.Add.NFe : TNFe</code></li><li>Create a proper variable:<pre tabindex=0><code class=language-pascal data-lang=pascal>var Nota: TNFe;
Nota := ACBrNFe1.NotasFiscais.Add.NFe;
</code></pre></li><li>Did an <code>.Add</code>? Capture the item:<pre tabindex=0><code class=language-pascal data-lang=pascal>var Det: TDetCollectionItem;
Det := Nota.Det.Add;
</code></pre></li><li>Give variables <strong>real names</strong>.<br>None of that <code>a</code>, <code>b</code>, <code>obj</code>, <code>aux</code> nonsense.</li><li>Split the code. Good code is the kind <strong>even the marketing intern understands</strong>.</li></ol><hr><h2 id=full-example-without-laziness><strong>Full example (without laziness)</strong></h2><pre tabindex=0><code class=language-pascal data-lang=pascal>uses
  ACBrNFe, ACBrNFeNotasFiscais;

procedure TForm1.GenerateClearNFe;
var
  Nota: TNFe;
  Det: TDetCollectionItem;
begin
  Nota := ACBrNFe1.NotasFiscais.Add.NFe;

  Nota.Ide.cNF    := &#39;12345678&#39;;
  Nota.Ide.nNF    := 2;
  Nota.Ide.tpAmb  := taHomologacao;
  Nota.Ide.finNFe := fnNormal;

  Det := Nota.Det.Add;
  Det.nItem       := 1;
  Det.Prod.cProd  := &#39;ABC123&#39;;
  Det.Prod.xProd  := &#39;Example Product&#39;;
  Det.Prod.qCom   := 1.0000;
  Det.Prod.vUnCom := 100.00;

  Det.Imposto.ICMS.CST  := cst00;
  Det.Imposto.ICMS.orig := oeNacional;
end;
</code></pre><div class=bruto-bronca><strong>Roughneck‚Äôs Slap of Wisdom:</strong> More work? Yep.<br>But at least <strong>you understand what you wrote</strong> ‚Äî and it doesn‚Äôt look like a drunken intern coded it.</div><hr><div class=bruto-intro><span>Roughneck‚Äôs checklist to ban <code>with</code></span></div><ul><li><input checked disabled type=checkbox> Declare decent variables.</li><li><input checked disabled type=checkbox> Break long chains.</li><li><input checked disabled type=checkbox> Name things properly.</li><li><input checked disabled type=checkbox> Let the debugger work without prayer rituals.</li><li><input checked disabled type=checkbox> And if someone uses <code>with</code> in your project‚Ä¶ <strong>refactor it mercilessly and fire the culprit</strong>.</li></ul><hr><div class=bruto-intro><span>‚ÄúBut Roughneck, I type less with <code>with</code>&mldr;‚Äù</span></div><p>And I type even less if I delete your whole codebase.<br>Typing less is not a developer‚Äôs goal.<br><strong>Understanding what you wrote is.</strong></p><hr><div class=bruto-intro><span>Conclusion</span></div><p><code>with</code> is the <strong>crutch of the lazy</strong>.<br>It‚Äôs the programming version of the <em>‚Äúquick fix mentality‚Äù</em>.<br>Want to be good? Write it properly. Want to be fast? Use snippets.</p><div class=bruto-bronca><strong>Roughneck‚Äôs Slap of Wisdom:</strong> But if you insist on defending <code>with</code>, <strong>don‚Äôt call me to maintain your code</strong>,<br>because I‚Äôll rip that thing out of there even if I have to do it with a tractor.<br>If you‚Äôre on the <code>with</code> team, great ‚Äî <strong>just don‚Äôt call me for maintenance.</strong><br>If you do, I‚Äôll go there and <strong>tear that habit out of your code without mercy.</strong></div><blockquote><p>And if you think all this is nonsense‚Ä¶<br>That‚Äôs fine too.<br>I‚Äôll keep sleeping well and <code>with</code> will keep being garbage. üòé</p></blockquote></div></article></main><footer class=footer><div class=footer__inner><div class=footer__content><p class=copyright>¬© 2025 delphi.dev.br (EN) ¬∑ Powered by
<a href=https://gohugo.io/>Hugo</a> &
<a href=https://adityatelange.github.io/hugo-PaperMod/>PaperMod</a></p></div><div class=footer__social><div class=social-icons align=center><a href=https://github.com/alanvcb target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://youtube.com/brutododelphi target=_blank rel="noopener noreferrer me" title=Youtube><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22.54 6.42a2.78 2.78.0 00-1.94-2C18.88 4 12 4 12 4s-6.88.0-8.6.46a2.78 2.78.0 00-1.94 2A29 29 0 001 11.75a29 29 0 00.46 5.33A2.78 2.78.0 003.4 19c1.72.46 8.6.46 8.6.46s6.88.0 8.6-.46a2.78 2.78.0 001.94-2 29 29 0 00.46-5.25 29 29 0 00-.46-5.33z"/><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"/></svg>
</a><a href=https://www.linkedin.com/in/alanvcb target=_blank rel="noopener noreferrer me" title=Linkedin><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>
</a><a href=/index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div></div></div></footer></body></html>